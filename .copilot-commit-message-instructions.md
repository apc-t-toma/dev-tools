# Commit Message Guidelines

1. **Follow Conventional Commit Format with Japanese**
    - Subject line rules
        - Keep the first line under 30 characters to ensure clarity.
        - Use simple, direct expressions for the subject line with consistent Japanese verb forms.
            - Examples:
                - New features: `〜を追加`, `〜を実装`, `〜を導入`
                - Fixes: `〜を修正`, `〜を解決`, `〜を訂正`
                - Updates: `〜を更新`, `〜を改善`, `〜を最適化`
                - Deletions: `〜を削除`, `〜を除去`
    - Use the format: `type(scope): <Japanese subject>`
    - Constraints (MUST/SHOULD)
        - MUST: `type` ∈ {build, ci, docs, feat, fix, perf, refactor, style, test, chore}
        - MUST: `scope` is required; lowercase kebab-case `[a-z0-9-]+`
        - SHOULD: Subject length <= 30 chars; Japanese; no trailing period
        - Regex (validation): `^(build|ci|docs|feat|fix|perf|refactor|style|test|chore)\(([a-z0-9-]+)\): [^\s].{0,29}$`
    - Available types
        - build: Changes to build system or dependencies
            - Example: `build(deps): 依存関係を更新`
            - Example: `build(docker): ベースイメージを更新`
        - ci: Changes to CI configuration or pipeline
            - Example: `ci(github-actions): キャッシュ設定を最適化`
        - docs: Update documentation
            - Example: `docs(readme): セットアップ手順を更新`
        - feat: Add a new feature
            - Example: `feat(auth): パスワードリセットを追加`
        - fix: Bug fix
            - Example: `fix(api): 認可の境界チェックを修正`
        - perf: Improve performance (no behavior change)
            - Example: `perf(optimizer): 計算コストを削減`
        - refactor: Improve internal structure without changing behavior
            - Example: `refactor(domain): 関数を分割して可読性を改善`
        - style: Code style only (no logic change)
            - Example: `style(ui): フォーマッタ適用`
        - test: Add, update, or fix tests
            - Example: `test(optimizer): ベンチテストを追加`
        - chore: Misc maintenance (excluding build/CI)
            - Example: `chore(scripts): 開発用スクリプトを整理`
    - Scope rules
        - Names are English, lowercase, kebab-case; keep consistent across the project
        - Example scopes (non-exhaustive): `api`, `auth`, `compose`, `db`, `deps`, `docker`, `domain`, `github-actions`, `i18n`, `optimizer`, `readme`, `scripts`, `state`, `ui`

2. **Provide Detailed Context in Body**
    - MUST: If the subject is sufficient, omit the body; add it only for missing context (reason/scope/impact).
    - MUST: Leave one blank line after the subject line.
    - MUST: Write the body in Japanese.
    - MUST: Output the body as a bullet list (`-`), one idea per bullet.
    - SHOULD: Include both What (what was changed) and Why (the reason for the change).
    - SHOULD: Keep each bullet line length <= 72 characters.
    - MAY: Add Impact or Refs at the end when applicable.
